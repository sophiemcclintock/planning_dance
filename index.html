<!DOCTYPE html>
<html lang="en">
<head>
    <title>Riptide</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="assets/template_styles.css">
    <!-- code display -->
    <link rel="stylesheet" href="assets/highlight/styles/tomorrow.css">
    <script src="assets/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<div class="container-fluid header p-3">
    <h1>Riptide</h1>
</div>
<nav class="navbar navbar-expand-lg px-3 py-2 mb-2">
    <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon navbar-dark"></span>
    </button>

    <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#">Link 1</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link 2</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link 3</a>
            </li>
        </ul>
    </div>

</nav>


<div class="container-lg">
<br>
<h2>Database Plan</h2>
<hr>
<h3>Brief</h3>
<p>Before starting the database, I had already created and styled the website that I was going to base my database off. My aim at the end of this project was to include two or three database tables in my website that people could interact with. Before starting the project, I planned out what my tables were going to be, below you can see the different tables I planned out. </p>
<hr>
<h2>Sprint One</h2>
<p>Sprint one for the database consisted of creating a page on the website that I intend to turn into a database. For my website, I decided to start off by creating a database based off a news page where people could get information about what is happening at the dance school. I started off with creating the page and putting some styles in to make it look a little bit nicer because this would make the process of creating the actual database a lot easier! Then I imported the db_functions file that had already been created, and set up the news and members table in the create_db sqlite file. Once everything was ready to go, I actually ran the code and the database was created with just the two tables. </p>
<h4>The plan for the news and members table</h4>
    <img class="img-fluid" src="assets/images/Database_plan1.jpg">
<hr>
<h4>The members and news table in the create_db sqlite file</h4>
<p>As you can see in the screenshot below, I have created the two tables, members and news based on the plan above. I also added a foreign key reference at the bottom of the news table to contact member_id in the members table (which is the primary key) to the member_id in the news table(which is the foreign key). </p>
    <img class="img-fluid" src="assets/images/Member_and_news_table.png">
<h4>Testing for the first sql query for Sprint One.</h4>
<p>This particular sprint was about combining the member and news tables so the user could see the information on the news item and who posted the information. As can be seen in the run box below, we can see the description of what each thing is, followed by what it actually is. For example, you can see that it tells us that HIP HOP UNITE DANCE COMPETITION is a title to the news item. This is a really helpful test because it helps me make sure that the correct values are coming out under the correct section.</p>
    <img class="img-fluid" src="assets/images/Testing_for_Sprint1.png">
<p> After doing this test I implemented it into the code into the actual html file. The first code that you can see below is what I put into the server.py file, it is just the general sql query. Then I edited the news website, which was previously just 'front-end' (which means the html and styles have been worked out but the buttons are no functional). This involved making the buttons functional, for example being able to add more news items, delete them or update the contents of them. This is the second part of code you can see below.  </p>
    <pre style="font-size: 1em;"><code class="Python">def news():
    sql = """select news.news_id, news.title, news.subtitle, news.content, news.newsdate, member.name
    from news
    join member on news.member_id= member.member_id
    order by news.newsdate desc;
    """
    result = run_search_query_tuples(sql, (), db_path, True)
    print(result)
    return render_template("news.html", news=result)</code></pre>
    <pre style="..."><code class="html">{% for row in news %}
&lt;div class=&quot;news rounded&quot;&gt;
    &lt;h4&gt;&lt;b&gt;{{row [&apos;title&apos;]}}&lt;/b&gt;&lt;/h4&gt;
    &lt;hr&gt;
    &lt;div class=&quot;subtitle&quot;&gt;{{row[&apos;subtitle&apos;]}}&lt;/div&gt;
    &lt;div class=&quot;news-text&quot;&gt;{{row[&apos;content&apos;] | replace(&quot;\n&quot;, &quot;&lt;br&gt;&quot;) | safe}}&lt;/div&gt;
&lt;br&gt;
    &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-lg-6&quot;&gt;&lt;div class=&quot;news-subtext text-start&quot;&gt;Posted by {{ row [&apos;name&apos;]}} on {{ row [&apos;newsdate&apos;] | news_date }}&lt;/div&gt;&lt;/div&gt;
    &lt;div class=&quot;col-lg-6 text-end&quot;&gt;
        &lt;a class=&quot;btn btn-primary&quot; href=&quot;{{ url_for(&apos;news_cud&apos;, id=row[&apos;news_id&apos;], task=&apos;update&apos;) }}&quot;&gt;Update&lt;/a&gt;
        &lt;a class=&quot;btn btn-primary&quot; href=&quot;{{ url_for(&apos;news_cud&apos;, id=row[&apos;news_id&apos;], task=&apos;delete&apos;) }}&quot;&gt;Delete&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
    &lt;br&gt;
{% endfor %}</code></pre>
<p>After doing this test, I had the general information for the news page but I still had to work on the update, delete and add side of the page and seeing as this included quite a lot more sql queries, I had to do a bit more testing. It was definitely a bit more difficult as I had to transfer what had already been recorded on each news section and then work out how to update it in the table. Below you can see a video of me testing the update, delete and add sections of the database to make sure that everything is working. </p>
<h3>Video of running through the news update, delete and add. </h3>
        <video controls>
            <source src="assets/vids/News_Cud_recording.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
<h3>Reflection</h3>
<p>Overall I am pleased with the progress from Sprint One, I managed to pretty much create my first database based off the news page. It was a bit of a challenge starting everything up but the first time is always going to be difficult, so hopefully it will get easier with time! I got my testing py running as, which will be helpful when I am testing my sql queries before I put them into the actual website/database. </p>
<hr>
<h2>Sprint Two</h2>
<p>In my next sprint, I decided to add another database based off my classes page. I had already made the classes page for the website and done all the styles so it just involved adding in the database, in quite a similar fashion to the news database.  This would be a more a bit more difficult as it would include a few more pages, as it meant the people who had an authorisation of 0 (the teachers at the dance school) would be able to view who was in the classes, and add people or delete people. I had to connect the members database to the classes database and add a datalist so that when the teachers were trying to add people to the classes, they could see who was a member in the dance school. A lot of this database was actually quite similar to the news database so a lot of the code I just copied through and changed for the classes page. </p>
<h4>The plan for the news and members table</h4>
    <img class="img-fluid" src="assets/images/Database_plan2.jpg">
<hr>
<h4>The classes table in the create_db sqlite file</h4>
<p>This sprint just required me created one more table, the classes table as seen in the screenshot below. I used the plan above and as with Sprint One,  I also added a foreign key reference at the bottom of the classes table to contact member_id in the members table (which is the primary key) to the member_id in the classes table (which is the foreign key). Below the table you can also see some of the inputs that I have put into the classes table, the Jazz, Contemporary, Tap and Hip Hop classes and the content to tell people what each of these styles are. </p>
    <img class="img-fluid" src="assets/images/Classes_table_and_inputs.png">
<h4>Testing for the first sql query for Sprint Two</h4>
<p>This test is very similar to the news test, it involves combining the classes and member tables so they can run together. Again, as you can see in the ‘run’ area below there are the values for each class, the title, the content, and the image. All the update, delete and add more information was very similar to the news database so I did not really have to do anything new. </p>
    <img class="img-fluid" src="assets/images/Testing_for_Sprint_2.png">
<h3>Reflection</h3>
<p>Like I have said a few times, this was quite an easy sprint because I just copied a lot of the information over from the news database. I changed the layout of the classes page a bit and I am happy at how it looks now. My next step is to add the session information and organise the log in, log out information. This will be really helpful because it means I can sort out who has the authorization to add new news items and add people to classes etc. </p>
<hr>
<h2>Sprint 3</h2>
<p>For this sprint I put the databases on hold for a second and add the sessions and log in and out functions. I started by setting up the log in and log out and making sure that worked. Then I added the session to all the pages that needed it, like the news page and classes page. This meant that if we were in session (logged in) and people had a certain authorisation people could add new items and add different students to the class. If we were just in session (logged in) then the ‘log in’ in the corner would change to a log out and we would be able to see who was logged in, what their member_id was and what their authorization was. </p>
<p>Below you can see a video of me testing to check if the sessions and log in/log out was working</p>

    <h2>Brief</h2>
        <hr>
    <h2>Boards and sprints</h2>
        <hr>
        <!-- Heading levels -->
            <h3>Sprint One</h3>
            <p>Plan</p>
            <p>Boards</p>
            <p>Link to the Canvas Page</p>
            <p>Test</p>
            <p>Reflect</p>
        <hr>
            <h3>Sprint Two</h3>
            <p>Plan</p>
            <p>Boards</p>
            <p>Link to the Canvas Page</p>
            <p>Test</p>
            <p>Reflect</p>
        <hr>
    <h3>Images (landscape fits better than portrait)</h3>
    <!-- one image -->
    <div class="row mb-2">
        <div class="col-md-12 my-2">
            <img class="img-fluid mx-auto d-block my-2" src="assets/images/place_holder.png"> </div>
        </div>
    <!-- two images -->
    <div class="row">
        <div class="col-md-6 my-2">
           <img class="img-fluid mx-auto d-block" src="assets/images/place_holder_sm.jpg">
        </div>
        <div class="col-md-6 my-2">
            <img class="img-fluid mx-auto d-block" src="assets/images/place_holder_sm.jpg">
        </div>
    </div>
        <hr>

    <h3>Video Test Example</h3>
        <video controls>
            <source src="assets/vids/littleTest.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <p>
            Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse
            molestie consequat, vel illum dolore eu feugiat nulla facilisis at
            vero eros et accumsan et iusto odio dignissim qui blandit praesent
            luptatum zzril delenit augue duis dolore te feugait nulla facilisi.
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam
            nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat
            volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation
            ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
        </p>
        <hr>
</div>
<!-- -->
<div class="container-lg mb-2">
    <h2> Relevant Implications Summary</h2>
    <!-- groovy bootstrap list -->
    <ol class="list-group list-group-numbered">
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
            </div>
            <span class="badge bg-primary rounded-pill">14</span>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
            </div>
            <span class="badge bg-primary rounded-pill">14</span>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
            </div>
            <span class="badge bg-primary rounded-pill">14</span>
        </li>
    </ol>
    <hr>
</div>

<div class="container-lg">
<h2>Example code presentations</h2>
    <p>These do not need to be used extensively but look great in the right place</p>
    <!-- pre stands for pre-formatted and will render text as it appears in the htm code -->
    <!-- this means extra line breaks appear hence the code starting with no spacings or line breaks-->
<h3>Some SQL</h3>
<pre style="font-size: 1em;"><code class="SQL">SELECT track_name as "Tracks",
album_name as "Album", album_artist as "Artist" --Interesting comment
FROM music_table
WHERE track_name like "R%";</code></pre>
<h3>Some Python</h3>
<pre style="font-size: 1em;"><code class="Python"># interesting comment
def review_fruit(l):
    for x in l:
        output = "{:&le; 10} -- {: &gt;4}".format(x[0], x[1])
        print(output)
    return None</code></pre>
    <h3>Some CSS</h3>
<pre style="font-size: 1em;">
<code class="css">/* interesting comment */
:root{
--base-back: rgb(150,150,150);
--black: rgb(0,0,0);
}
body{
margin: 0;
padding: 0;
font-size: 100%;
}</code></pre>
<h3>Some HTML</h3>
<!-- to present html code on an html coded web page raises an interesting problem -->
<!-- the code needs to be converted into "escape" characters to handle the < and > -->
<!-- there are online tools to do it https://codebeautify.org/html-escape-unescape -->
<pre style="font-size: 1em;">
<code class="html">&lt;!-- interesting comment --&gt;
&lt;li class=&quot;list-group-item d-flex justify-content-between align-items-start&quot;&gt;
&lt;div class=&quot;ms-2 me-auto&quot;&gt;
    &lt;div class=&quot;fw-bold&quot;&gt;Subheading&lt;/div&gt;
    Content for list item
&lt;/div&gt;
&lt;span class=&quot;badge bg-primary rounded-pill&quot;&gt;14&lt;/span&gt;
&lt;/li&gt;
</code>
</pre>
    <h3>Some Javascript (most likely will not need)</h3>
<pre style="font-size: 1em;">
<code class="javscript">function inBoundsCheck(xM, yM, x, y, w, h){
    if( xM > x && xM < x+w && yM > y && yM < y+h){
    // interesting comment
        return true;
    }else{
        return false;
    }
}</code>
</pre>
</div>

<footer> Your name </footer>